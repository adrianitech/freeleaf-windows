<Window x:Class="FreeLeaf.View.TransferWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dd="clr-namespace:GongSolutions.Wpf.DragDrop;assembly=GongSolutions.Wpf.DragDrop"
        xmlns:model="clr-namespace:FreeLeaf.Model"
        DataContext="{Binding Path=Transfer, Source={StaticResource Locator}}"
        Title="FreeLeaf" Height="650" Width="1200" MinHeight="580" MinWidth="960" Background="White"
        WindowStartupLocation="CenterScreen" FontFamily="../Assets/#Segoe WP" UseLayoutRounding="True" Icon="/FreeLeaf;component/Assets/icon.ico">
    
    <Window.Resources>
        <model:cont x:Key="cont" Style1="{StaticResource aa1}" Style2="{StaticResource aa}" />
        <DataTemplate x:Key="GridViewCellTemplate">
            <TextBlock Text="{Binding}" Margin="5,0,0,0" Foreground="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListViewItem}, Path=Foreground}" FontSize="12" TextTrimming="CharacterEllipsis" VerticalAlignment="Center" />
        </DataTemplate>
        <Storyboard x:Key="PulseAnimationStory">
            <DoubleAnimation From="1" To="0" Duration="0:0:0.500" Storyboard.TargetName="PulseCount" Storyboard.TargetProperty="Opacity" />
            <DoubleAnimation From="1" To="4" Duration="0:0:0.500" Storyboard.TargetName="PulseCount" Storyboard.TargetProperty="RenderTransform.ScaleX" />
            <DoubleAnimation From="1" To="4" Duration="0:0:0.500" Storyboard.TargetName="PulseCount" Storyboard.TargetProperty="RenderTransform.ScaleY" />
        </Storyboard>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="42" />
            <RowDefinition />
            <RowDefinition Height="26" />
        </Grid.RowDefinitions>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="10" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Border BorderThickness="0,1,1,0" BorderBrush="#d6d6d6">
                <ListView x:Name="ListLocal" ItemsSource="{Binding LocalDrive}" MouseDoubleClick="LocalList_MouseDoubleClick" Style="{StaticResource LocalListViewStyle}" Tag="{Binding LocalPath}"
                          IsSynchronizedWithCurrentItem="True" dd:DragDrop.IsDragSource="True" dd:DragDrop.IsDropTarget="True" dd:DragDrop.DropHandler="{Binding}"
                          ItemContainerStyleSelector="{StaticResource cont}">
                    <ListView.View>
                        <GridView AllowsColumnReorder="False" ColumnHeaderContainerStyle="{StaticResource GridViewColumnHeaderStyle}">
                            <GridViewColumn Width="240" Header="Name" DisplayMemberBinding="{Binding Name}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="140" Header="Date modified" DisplayMemberBinding="{Binding Date}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="90" Header="Size" DisplayMemberBinding="{Binding Size}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="90" Header="Extension" DisplayMemberBinding="{Binding Extension}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                        </GridView>
                    </ListView.View>
                </ListView>
            </Border>
            <GridSplitter Grid.Column="1" Background="#ededed" ResizeDirection="Columns" ResizeBehavior="PreviousAndNext" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" />
            <Border Grid.Column="2" BorderThickness="1,1,0,0" BorderBrush="#d6d6d6">
                <ListView x:Name="ListRemote" ItemsSource="{Binding RemoteFiles}" MouseDoubleClick="RemoteList_MouseDoubleClick" Style="{StaticResource LocalListViewStyle}" Tag="{Binding RemotePath}"
                          IsSynchronizedWithCurrentItem="True" dd:DragDrop.IsDragSource="True" dd:DragDrop.IsDropTarget="True" dd:DragDrop.DropHandler="{Binding}"
                          ItemContainerStyleSelector="{StaticResource cont}">
                    <ListView.View>
                        <GridView AllowsColumnReorder="False" ColumnHeaderContainerStyle="{StaticResource GridViewColumnHeaderStyle}">
                            <GridViewColumn Width="240" Header="Name" DisplayMemberBinding="{Binding Name}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="140" Header="Date modified" DisplayMemberBinding="{Binding Date}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="90" Header="Size" DisplayMemberBinding="{Binding Size}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                            <GridViewColumn Width="90" Header="Extension" DisplayMemberBinding="{Binding Extension}" CellTemplate="{StaticResource GridViewCellTemplate}" />
                        </GridView>
                    </ListView.View>
                </ListView>
            </Border>
        </Grid>
        <Border Grid.Row="2" Background="#e4715f">
            <Grid Margin="10,0">
                <TextBlock Foreground="White" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Left">
                    <Run Text="{Binding ElementName=ListLocal, Path=SelectedItems.Count, Mode=OneWay}" />/<Run Text="{Binding Items.Count, ElementName=ListLocal, Mode=OneWay}" /> item(s) selected
                </TextBlock>
                <TextBlock Foreground="White" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Right">
                    <Run Text="{Binding ElementName=ListRemote, Path=SelectedItems.Count, Mode=OneWay}" />/<Run Text="{Binding Items.Count, ElementName=ListRemote, Mode=OneWay}" /> item(s) selected
                </TextBlock>
            </Grid>
        </Border>
        <Border Background="#FFEDEDED">
            <Grid>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button Width="48" ToolTip="Go up" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalFolderUp_Click">
                        <Path Data="M166.801,131.66l20.984,20.893c16.654,16.581,38.769,25.712,62.27,25.712H422V380.34H90V131.66H166.801M183.317,91.66H50v328.68h412V138.265H250.055c-12.762,0-25.004-5.055-34.048-14.059L183.317,91.66z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Rectangle Margin="5,10" Width="1" Fill="#FFCBCBCB" />
                    <Button Width="48" ToolTip="New folder" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalNewFolder_Click">
                        <Path Data="M462,328.654h-51.733v-51.732h-39.951v51.732h-51.732v39.951h51.732v51.732h39.951v-51.732H462V328.654z M280.587,420.338H50V91.662h133.317l32.689,32.545c9.044,9.004,21.286,14.059,34.048,14.059H462v100.297h-40v-60.297H250.055c-23.501,0-45.615-9.131-62.27-25.713l-20.984-20.891H90v248.676h190.587V420.338z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Button Width="48" ToolTip="Rename" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalRename_Click">
                        <Path Data="M283.977,101.757V241h40.198v30h-40.198v139.243c0,9.271,7.516,16.786,16.786,16.786h38.412V462h-48.316c-13.533,0-26.34-6.127-34.832-16.665l-0.068-0.085c-8.49,10.589-21.328,16.75-34.9,16.75h-48.232v-34.971h38.412c9.271,0,16.786-7.516,16.786-16.786V271h-40.198v-30h40.198V101.757c0-9.271-7.516-16.786-16.786-16.786h-38.412V50h48.316c13.533,0,26.34,6.127,34.832,16.665l0.068,0.085c8.49-10.589,21.328-16.75,34.9-16.75h48.232v34.971h-38.412C291.492,84.971,283.977,92.486,283.977,101.757z M85,205.417H50v101h35V205.417z M85,85h42.825v-0.029V50H50v121.417h35V85zM127.825,427.029V427H85v-86.583H50V462h77.825V427.029z M384.175,50v34.971V85H427v86.417h35V50H384.175z M427,427h-42.825v0.029V462H462V340.417h-35V427z M427,306.417h35v-101h-35V306.417z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Button Width="48" ToolTip="Delete" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalDelete_Click">
                        <Path Data="M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256zM422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256zM325.329,362.49l-67.327-67.324l-67.329,67.332l-36.164-36.186l67.314-67.322l-67.321-67.317l36.185-36.164l67.31,67.301l67.3-67.309l36.193,36.17l-67.312,67.315l67.32,67.31L325.329,362.49z"
        					  Stretch="Uniform" Fill="#333333" Height="18" />
                    </Button>
                    <Rectangle Margin="5,10" Width="1" Fill="#FFCBCBCB" />
                    <Button Width="48" ToolTip="Refresh" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalRefresh_Click">
                        <Path Data="M373.223,142.573l-37.252,37.253c-20.225-20.224-48.162-32.731-79.021-32.731c-61.719,0-111.752,50.056-111.752,111.776c0,0.016,0-0.016,0,0h43.412l-69.342,69.315L50,258.871h42.514c0-0.008,0,0.006,0,0c0-90.816,73.621-164.46,164.436-164.46C302.357,94.411,343.467,112.816,373.223,142.573z M462,253.129l-69.268-69.316l-69.342,69.316h43.412c0,0.016,0-0.017,0,0c0,61.72-50.033,111.776-111.752,111.776c-30.859,0-58.797-12.508-79.021-32.731l-37.252,37.253c29.758,29.757,70.867,48.162,116.273,48.162c90.814,0,164.436-73.644,164.436-164.459c0-0.007,0,0.008,0,0H462z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                </StackPanel>
                <Button Width="48" ToolTip="Queue" HorizontalAlignment="Center" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonQueue_Click">
                    <Grid>
                        <Path Data="M256,90c44.34,0,86.026,17.267,117.38,48.62C404.732,169.974,422,211.66,422,256s-17.268,86.026-48.62,117.38C342.026,404.733,300.34,422,256,422c-44.34,0-86.026-17.267-117.38-48.62C107.267,342.026,90,300.34,90,256s17.267-86.026,48.62-117.38C169.974,107.267,211.66,90,256,90z M256,50C142.229,50,50,142.229,50,256s92.229,206,206,206s206-92.229,206-206S369.771,50,256,50z M359.97,210.212H156.03v-32.175H359.97V210.212z M359.97,239.912H156.03v32.175H359.97V239.912z M359.97,301.787H156.03v32.175H359.97V301.787z"
        			          Stretch="Uniform" Fill="#333333" Height="18" />
                        <Grid VerticalAlignment="Bottom" HorizontalAlignment="Left">
                            <Grid.RenderTransform>
                                <TranslateTransform X="10" Y="5" />
                            </Grid.RenderTransform>
                            <Grid x:Name="PulseCountReal">
                                <Rectangle Fill="#e4715f" RadiusX="5" RadiusY="5" />
                                <TextBlock Text="{Binding Queue.Count}" Margin="4,2" Foreground="White" FontSize="9" />
                            </Grid>
                            <Rectangle x:Name="PulseCount" Opacity="0" RenderTransformOrigin="0.5,0.5" IsHitTestVisible="False">
                                <Rectangle.Fill>
                                    <VisualBrush Visual="{Binding ElementName=PulseCountReal}" />
                                </Rectangle.Fill>
                                <Rectangle.RenderTransform>
                                    <ScaleTransform />
                                </Rectangle.RenderTransform>
                            </Rectangle>
                        </Grid>
                    </Grid>
                </Button>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Width="48" ToolTip="Refresh" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonRemoteRefresh_Click">
                        <Path Data="M373.223,142.573l-37.252,37.253c-20.225-20.224-48.162-32.731-79.021-32.731c-61.719,0-111.752,50.056-111.752,111.776c0,0.016,0-0.016,0,0h43.412l-69.342,69.315L50,258.871h42.514c0-0.008,0,0.006,0,0c0-90.816,73.621-164.46,164.436-164.46C302.357,94.411,343.467,112.816,373.223,142.573z M462,253.129l-69.268-69.316l-69.342,69.316h43.412c0,0.016,0-0.017,0,0c0,61.72-50.033,111.776-111.752,111.776c-30.859,0-58.797-12.508-79.021-32.731l-37.252,37.253c29.758,29.757,70.867,48.162,116.273,48.162c90.814,0,164.436-73.644,164.436-164.459c0-0.007,0,0.008,0,0H462z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Rectangle Margin="5,10" Width="1" Fill="#FFCBCBCB" />
                    <Button Width="48" ToolTip="Delete" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonRemoteDelete_Click">
                        <Path Data="M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256zM422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256zM325.329,362.49l-67.327-67.324l-67.329,67.332l-36.164-36.186l67.314-67.322l-67.321-67.317l36.185-36.164l67.31,67.301l67.3-67.309l36.193,36.17l-67.312,67.315l67.32,67.31L325.329,362.49z"
        					  Stretch="Uniform" Fill="#333333" Height="18" />
                    </Button>
                    <Button Width="48" ToolTip="Rename" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalRename_Click">
                        <Path Data="M283.977,101.757V241h40.198v30h-40.198v139.243c0,9.271,7.516,16.786,16.786,16.786h38.412V462h-48.316c-13.533,0-26.34-6.127-34.832-16.665l-0.068-0.085c-8.49,10.589-21.328,16.75-34.9,16.75h-48.232v-34.971h38.412c9.271,0,16.786-7.516,16.786-16.786V271h-40.198v-30h40.198V101.757c0-9.271-7.516-16.786-16.786-16.786h-38.412V50h48.316c13.533,0,26.34,6.127,34.832,16.665l0.068,0.085c8.49-10.589,21.328-16.75,34.9-16.75h48.232v34.971h-38.412C291.492,84.971,283.977,92.486,283.977,101.757z M85,205.417H50v101h35V205.417z M85,85h42.825v-0.029V50H50v121.417h35V85zM127.825,427.029V427H85v-86.583H50V462h77.825V427.029z M384.175,50v34.971V85H427v86.417h35V50H384.175z M427,427h-42.825v0.029V462H462V340.417h-35V427z M427,306.417h35v-101h-35V306.417z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Button Width="48" ToolTip="New folder" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonLocalRename_Click">
                        <Path Data="M462,328.654h-51.733v-51.732h-39.951v51.732h-51.732v39.951h51.732v51.732h39.951v-51.732H462V328.654z M280.587,420.338H50V91.662h133.317l32.689,32.545c9.044,9.004,21.286,14.059,34.048,14.059H462v100.297h-40v-60.297H250.055c-23.501,0-45.615-9.131-62.27-25.713l-20.984-20.891H90v248.676h190.587V420.338z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                    <Rectangle Margin="5,10" Width="1" Fill="#FFCBCBCB" />
                    <Button Width="48" ToolTip="Go up" Style="{StaticResource ToolbarButtonStyle}" Click="ButtonRemoteFolderUp_Click">
                        <Path Data="M166.801,131.66l20.984,20.893c16.654,16.581,38.769,25.712,62.27,25.712H422V380.34H90V131.66H166.801M183.317,91.66H50v328.68h412V138.265H250.055c-12.762,0-25.004-5.055-34.048-14.059L183.317,91.66z"
        					  Stretch="Uniform" Fill="#333333" Height="16" />
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
